"use strict";var google_afs_qry_ctxt,google_afs_qry_lnk,google_afs_client,google_afs_channel,google_afs_query,google_afs_gm,google_afs_ad,google_afs_adpage,google_afs_oe,google_afs_adsafe,google_afs_adtest,google_afs_hl;var google_ad_client,google_ad_output,google_max_num_ads,google_ad_channel,google_ad_type,google_safe,google_encoding,google_adtest,google_language;var google_markup,google_subcase;var GoogleAds={isSpanish:(imgServer.indexOf("espanol")>-1),google_case:null,google_track_channel:"",google_check_site:function(){if(($("#btm-padbar").length>0)&&(catid==="pcat17071")){this.google_case=1;return true}else{if(($("#btm-padbar").length>0)&&(getQueryVariable("searchterm")!==undefined)){this.google_case=0;return true}else{if(($("#searchstatered").length>0)&&($("#searchstatered").html().indexOf("We didn't find any matches")!==-1)){this.google_case=3;return true}else{if(($("#searchstate").length>0)&&($("#btm-padbar").length>0)){var a=$("#searchstate").html();if(a.indexOf("Geek Squad")!=-1){return false}this.google_case=4;return true}else{if($("#pdptabs").length>0){this.google_case=6;this.google_subcase="pdp";return true}else{if(document.title=="Deal of the Day"){this.google_case=7;this.google_subcase="dotd";return true}else{return false}}}}}}},google_define_query:function(){var f="",b=getQueryVariable("sc"),a=0;switch(this.google_case){case 0:google_afs_ad="w4n3";google_afs_query=getQueryVariable("searchterm");google_afs_qry_lnk=getQueryVariable("searchterm");google_afs_client=(this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js");google_afs_channel=(this.isSpanish?"searchcatpage-alt1":"searchcatpage");break;case 1:google_afs_ad="w4n3";google_afs_query=getQueryVariable("st").replace(/\+/g," ");google_afs_qry_lnk=getQueryVariable("st").replace(/\+/g," ");if(google_afs_query==null){google_afs_query=getQueryVariable("searchterm").replace(/\+/g," ");google_afs_qry_lnk=getQueryVariable("searchterm").replace(/\+/g," ")}if(google_afs_query.indexOf("_")!==-1){if($("#listView div.hproduct:first h3 a").html()===null){google_afs_query=google_afs_query.replace(/_/g," ")}else{google_afs_query=$("#listView div.hproduct:first h3 a").html()}google_afs_client=(this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js");google_afs_channel=(this.isSpanish?"altcategory-alt1":"altcategory")}else{if(/^[0-9][0-9][0-9][0-9][0-9][0-9][0-9]/.test(google_afs_query)){google_afs_query=$("#listView div.hproduct:first h3 a").html();google_afs_client=(this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js");google_afs_channel=(this.isSpanish?"search-alt1":"search")}else{switch(b){case"TVVideoSP":google_afs_query=google_afs_query+" TV Video";break;case"audioSP":google_afs_query=google_afs_query+" Audio";break;case"carSP":google_afs_query=google_afs_query+" Car";break;case"abCameraCamcorderSP":google_afs_query=google_afs_query+" Cameras and Camcorders";break;case"abComputerSP":google_afs_query=google_afs_query+" Computers";break;case"abSoftwareSP":google_afs_query=google_afs_query+" Software";break;case"phoneOfficeSP":google_afs_query=google_afs_query+" Phones and Office";break;case"musicSP":google_afs_query=google_afs_query+" Music";break;case"artistSP":google_afs_query=google_afs_query+" Music Artist";break;case"songSP":google_afs_query=google_afs_query+" Music Song";break;case"albumTitleSP":google_afs_query=google_afs_query+" Music Album";break;case"movieSP":google_afs_query=google_afs_query+" Movies";break;case"titleSP":google_afs_query=google_afs_query+" Movie Title";break;case"personSP":google_afs_query=google_afs_query+" Movie Person";break;case"gameToySP":google_afs_query=google_afs_query+" Games and Toys";break;case"abHomeAppSP":google_afs_query=google_afs_query+" Home Appliances";break;default:break}if(($("#searchstate a").length>0)||($("#searchstate b").length>0)){$("#searchstate a, #searchstate b").each(function(){a++;if(a>3){f=$(this).html().replace(/^\s+|\s+$/g,"").replace("|"," ").split(":&nbsp;",1)+"";f=f.replace(/&amp; /,"").replace(/All Categories /,"").replace(/Best Buy /,"").replace(/Name Brands /,"").replace(/&nbsp;/g," ").replace(/^\s+|\s+$/g,"");google_afs_query+="|"+f}});google_afs_qry_ctxt=google_afs_query.replace(google_afs_qry_lnk,"").replace(/^\s+|\s+$/g,"");google_afs_query=google_afs_query.replace(/^\s+|\s+$/g,"").replace(/\|/g," ")}google_afs_client=(this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js");google_afs_channel=(this.isSpanish?"search-alt1":"search")}}break;case 3:google_afs_ad="w4n3";google_afs_query=getQueryVariable("st");google_afs_client=(this.isSpanish?"bestbuy-alt1_js":"bestbuy-alt2_js");google_afs_channel=(this.isSpanish?"searchnoresults-alt1":"searchnoresults");break;case 4:google_afs_ad="w4n3";google_afs_client=(this.isSpanish?"bestbuy-alt1-browse_js":"bestbuy-alt2-browse_js");if($("#searchstate").length>0){try{if($("#searchstate b").length>0){google_afs_qry_lnk=$("#searchstate b").text().replace(/^\s+|\s+$/g,"")}else{if($("#searchstate span").length>0){google_afs_qry_lnk=$("#searchstate span").text().replace(/^\s+|\s+$/g,"")}}google_afs_query_tmp=$("#searchstate").text().replace(/^\s*/,"").replace(/^\s*/,"").replace(new RegExp(String.fromCharCode(8250),"g"),">").replace(/\n/g," ");google_afs_query_tmp=google_afs_query_tmp.split(">");google_afs_query="";google_afs_qry_ctxt="";for(i=google_afs_query_tmp.length;i>1;i--){google_afs_query+=google_afs_query_tmp[i-1].replace(/^\s+|\s+$/g,"");if(i!==2){google_afs_query+=" "}}for(i=1;i<=google_afs_query_tmp.length-2;i++){google_afs_qry_ctxt+=google_afs_query_tmp[i].replace(/^\s+|\s+$/g,"");if(i!==google_afs_query_tmp.length-2){google_afs_qry_ctxt+="|"}}}catch(h){google_afs_query=$("#searchstate").text().replace(/\n/g," ").replace(/>/g," ").replace(/Best Buy/g,"").replace(/^\s*/,"").replace(/\s*$/,"")}}google_afs_channel=(this.isSpanish?"browsecatpage-alt1":"browsecatpage");if(catid!==""){google_afs_channel=google_afs_channel+","+catid}if(strCat!==""){google_afs_channel=google_afs_channel+","+strCat}if(this.isSpanish){google_afs_channel+="-alt1"}break;case 6:var d=$("#searchstate").text().replace(/\n/g," ").replace(/  /g," ").replace(/ >/g,",").replace(/Best Buy ,/g,"").replace(/, Product Info/g,"").replace(/^\s*/,"").replace(/\s*$/,"");google_afs_adtest="off";google_afs_ad="w4n3";google_afs_query=d;google_afs_client="bestbuy-pdp";google_afs_channel=(this.isSpanish?"searchcatpage-alt1":"searchcatpage");break;case 7:google_afs_adtest="off";google_afs_ad="w4n3";google_afs_query="Deals of the day";google_afs_client="partner-bestbuy-alt2-browse_js";google_afs_channel=(this.isSpanish?"searchcatpage-alt1":"searchcatpage");break}if(!this.isSpanish&&bby.sysdate>=new Date("06/14/2012")&&bby.sysdate<=new Date("06/20/2012")){var c=bby.cookie.read("groupab");var g=null;if(c=="b"){g="testB"}if(g){if(this.google_case==0||this.google_case==1||this.google_case==4){google_afs_channel=g;if(this.google_case==4){if(catid!==""){google_afs_channel=google_afs_channel+","+catid}if(strCat!==""){google_afs_channel=google_afs_channel+","+strCat}}}else{if(this.google_case==6){google_ad_channel=g}}}}},google_msg:function(){errorpop.show('<a class="closePop" href="javascript:errorpop.hide()"><span>close</span></a><h3>Ads by Google</h3><p>The links below are sponsored links that are administered, sorted, and maintained by Google. Companies pay to have these links appear when particular keywords and phrases are searched. These Ads by Google are always clearly labeled.</p><p>Clicking on any of the sponsored links will take you away from BestBuy.com to an external Web site hosted and operated by its respective owner. Different terms and conditions will apply. Please consult each site&#39;s Privacy Policy. The Web site you link to is not endorsed by, nor affiliated with, Best Buy or BestBuy.com.</p>');return false},INIT:function(){if(this.google_check_site()){this.google_define_query(this.google_case);this.google_request_ads()}},google_request_ads:function(){if(typeof(google_afs_query)!=="undefined"){switch(GoogleAds.google_case){case 0:case 1:case 2:case 3:case 4:case 5:google_afs_adpage=getQueryVariable("cp");if(google_afs_adpage===null){google_afs_adpage=1}google_afs_oe="ISO-8859-1";if(this.isSpanish){google_afs_hl="es"}else{google_afs_hl="en"}google_afs_adsafe="high";if((imgServer==="http://images.bestbuy.com:80/BestBuy_US/")||(this.isSpanish)){google_afs_adtest="off"}else{google_afs_adtest="on"}this.doCSA=true;if(this.doCSA){try{this.CSA=new GoogleCSA()}catch(a){}}else{document.write('<script language="JavaScript" src="//www.google.com/afsonline/show_afs_ads.js"><\/script>')}break;case 6:case 7:google_afs_adpage=getQueryVariable("cp");if(google_afs_adpage===null){google_afs_adpage=1}google_afs_oe="ISO-8859-1";if(this.isSpanish){google_afs_hl="es"}else{google_afs_hl="en"}this.doCSA=true;if(this.doCSA){try{this.CSA=new GoogleCSA()}catch(a){}}else{document.write('<script language="JavaScript" src="//www.google.com/afsonline/show_afs_ads.js"><\/script>')}break}if(getQueryVariable("google")!==undefined){}}}};function google_ad_request_done(a){google_display_ads(a)}function google_afs_request_done(a){google_display_ads(a)}function google_display_ads(h){if(getQueryVariable("google")!==undefined){}var g=[],f,d,c=0,b=0;for(f=0;f<h.length;f++){if(getQueryVariable("google")!==undefined){}g[f]='<div class="google-ad ';if((h[f].type=="text/narrow")||((GoogleAds.google_case==6)&&(c>=4))){b++;g[f]+=" google-narrow"}else{c++}g[f]+='"><a class="google-ad-title" href="'+h[f].url+'" target="_blank">'+h[f].line1+'</a><br/><span class="google-ad-text">'+h[f].line2;if((h[f].type=="text/narrow")||(GoogleAds.google_case==6||GoogleAds.google_case==7)){g[f]+=" "+h[f].line3}g[f]+='</span><br/><a class="google-ad-url" href="'+h[f].url+'" target="_blank">';if((h[f].type=="text/narrow")||((GoogleAds.google_case==6)&&(c>=4))){var m;m=h[f].visible_url.replace("/b>","xxx");m=m.replace("/b&gt","xxxxx");if(m.indexOf("/")!=-1){h[f].visible_url=h[f].visible_url.substr(0,m.indexOf("/"))}while(h[f].visible_url.indexOf(".")!=h[f].visible_url.lastIndexOf(".")){h[f].visible_url=h[f].visible_url.substr(h[f].visible_url.indexOf(".")+1,h[f].visible_url.length)}}g[f]+=h[f].visible_url;g[f]+="</a></div>"}function a(o){var o=o||"";var p='<div class="google-ads-wrapper">';var k=o.indexOf("popup")>-1?'<h3>Ads by Google</h3><h4><a class="google_explain" href="#" onclick="GoogleAds.google_msg();return false;">What&#39;s this?</a></h4>':"<h3>Ads by Google</h3>";var n=o.indexOf("narrow")>-1?'<div id="google-ads-narrow"></div>':'<div id="google-ads"></div>';var j='</div><div class="clearer"></div>';var l=p+k+n+j;return l}if(typeof(g[0])!=="undefined"){if(getQueryVariable("google")!==undefined){}switch(GoogleAds.google_case){case 0:case 2:case 1:case 4:if(c>0){$("#btm-padbar").before(a("popup"))}if(b>0){$("#leftcol .narrow").after(a("popup narrow"))}break;case 3:if(c>0){$("#newsearch").after(a("popup"))}break;case 5:break;case 6:if((c>0)&&($("#pdptabs").length>0)){$("#pdptabs").after(a())}if(b>0){$("#servicescol").append(a("narrow"))}break;case 7:if(c>0){$("#main").append(a())}break}for(d=0;d<g.length;d++){if(g[d].indexOf("google-narrow")>-1){$("#google-ads-narrow").append(g[d])}else{$("#google-ads").append(g[d])}}$("#google-ads").append('<div class="clearer"></div>')}else{if(getQueryVariable("google")!==undefined){}}}function GoogleCSA(){this.tag="GoogleCSA:";this.adCase=GoogleAds.google_case;if(typeof this.adCase==="number"){this.initAds()}else{}}GoogleCSA.prototype.initAds=function(){document.write('<script src="http://www.google.com/adsense/search/ads.js" type="text/javascript"><\/script>');this.defineAdObjects();this.placeContainers();this.getAds()};GoogleCSA.prototype.defineAdObjects=function(){var a=this.tag+" f()defineAdObjects";var b=this;this.adsDomainColor="#085eb9";this.adsDomainLinkColor="#004691";this.adsDomainTitleColor="#004691";this.pageOptions={linkTarget:"_blank",pubId:google_afs_client,adtest:google_afs_adtest,oe:"ISO-8859-1",hl:google_afs_hl,query:google_afs_query,channel:"csa-"+google_afs_channel,siteLinks:true,domainLinkAboveDescription:true,adPage:google_afs_adpage,titleBold:true,colorDomainLink:"#004691",colorTitleLink:"#004691"};this.adUnitWide={container:"gAdUnitWideAds",number:4,titleBold:true,colorDomainLink:this.adsDomainLinkColor,colorTitleLink:this.adsDomainTitleColor,longerHeadlines:true,sellerRatings:true,adLoadedCallback:function(c,d){var g="#gAdUnitWide";if(d){var h="completed";try{b.displayAdUnit(g)}catch(f){h="failed with "+f.message}}}};this.adUnitNarrow={container:"gAdUnitNarrowAds",number:3,width:"168px",titleBold:true,colorDomainLink:"#004691",colorTitleLink:"#004691",sellerRatings:true,adLoadedCallback:function(c,d){var g="#gAdUnitNarrow";if(d){var h="completed";try{b.displayAdUnit(g)}catch(f){h="failed with "+f.message}}}};this.contWide=['<div id="gAdUnitWide" class="gAdUnit wide gAdUnitHidden"><div class="adTitle"><h3>Ads by Google</h3><h4><a class="google_explain" href="#" onclick="GoogleAds.google_msg();return false;">What&#39;s this?</a></h4></div><div id="',this.adUnitWide.container,'" class="widecontent gAds"></div><div class="clearer"></div></div>'].join("");this.contNarrow=['<div id="gAdUnitNarrow" class="gAdUnit narrow gAdUnitHidden"><div class="adTitle"><h2>Ads by Google</h2><h4><a class="google_explain" href="#" onclick="GoogleAds.google_msg();return false;">What&#39;s this?</a></h4><div class="clearer">***</div></div><div id="',this.adUnitNarrow.container,'" class="narrowcontent gAds"></div><div class="clearer"></div></div>'].join("")};GoogleCSA.prototype.placeContainers=function(){if(this.adCase===3){$("#newsearch").after(this.contWide)}else{if((this.adCase===6)){$("#productdetail").after(this.contWide)}else{if(this.adCase===7){$("#main").after(this.contWide)}else{$("#listView").after(this.contWide);$("#leftcol .narrow").after(this.contNarrow)}}}};GoogleCSA.prototype.displayAdUnit=function(a){$(a).removeClass("gAdUnitHidden")};GoogleCSA.prototype.getAds=function(){var a=this;jQuery(document).ready(function(){if(typeof google!=="undefined"){if(a.adCase===3||a.adCase===6||a.adCase===7){new google.ads.search.Ads(a.pageOptions,a.adUnitWide)}else{new google.ads.search.Ads(a.pageOptions,a.adUnitWide,a.adUnitNarrow)}}})};try{GoogleAds.INIT()}catch(e){};