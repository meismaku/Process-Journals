/* UI BUILD: Monday, Apr  1 2013 at  2:22:13 PM */
/* MD5: 72a973525f20ad279c277603c1c58ba9 */

bby.requires("bby.page.layout",function(){var e={build:{date:"@build.date@",number:"@build.number@"},options:{prefix:"bbyuilb",header:true,title:"",css:{"z-index":1e3,width:"700px"},reuseWindow:true,autoPosition:true},prefixes:[],callbacks:[],setOptions:function(t){if(typeof t!=="undefined"){bby.mergeObjects(t,e.options)}},exists:function(t){if(typeof t!=="undefined"){if(typeof t.prefix!=="undefined"){if(e.prefixes[t.prefix]>0){bby.logError("exists: true - "+t.prefix);return true}else{bby.logError("exists: false - "+t.prefix);return false}}}if(document.getElementById(e.options.prefix+"-wrapper")!==null){bby.logError("exists: true - "+e.options.prefix);return true}bby.logError("exists: false - default");return false},create:function(t,n){if(e.runCallbacks("beforeCreate")==false){bby.logError("beforeCreate: cancelled by callback");return false}if(e.prefixes[e.options.prefix]==2){e.close()}if(!e.exists(t)){e.setOptions(t);e.prefixes[e.options.prefix]=1;bby.logError("create: "+e.options.prefix);var r=$("body");r.append('<div id="'+e.options.prefix+'-wrapper" style="display:none"><div id="'+e.options.prefix+'-fog"/><div id="'+e.options.prefix+'-container"><div id="'+e.options.prefix+'-box"></div></div></div>');var i=$("#"+e.options.prefix+"-fog");i.height(r.height()).width("100%");i.css({"z-index":e.options.css["z-index"],position:"absolute",top:"0",left:"0","background-color":"#333333",opacity:"0.5"});var s=$("#"+e.options.prefix+"-container").css({position:"absolute",top:"0",left:"0",width:"100%","text-align":"center",color:"#49494a","z-index":e.options.css["z-index"]+1});var o=$("#"+e.options.prefix+"-box").css({border:"4px #c3c4c4 solid","background-color":"white","text-align":"left",margin:"0 auto","box-shadow":"0px 0px 20px #333","-moz-box-shadow":"0px 0px 20px #333","-webkit-box-shadow":"0px 0px 20px #333"});o.css(e.options.css);if(e.options.header){o.append('<style type="text/css">#'+e.options.prefix+"-hdr {background-color: #e7e7e7; border-bottom: 1px #c3c4c4 solid; padding: 10px; height: 12px;} #"+e.options.prefix+"-hdr .close-btn {float: right; position: relative; top: -10px; margin-bottom: -10px;} #"+e.options.prefix+"-hdr .close-btn a:HOVER{text-decoration: underline;} #"+e.options.prefix+"-hdr .close-btn img {position: relative; top: 6px;} #"+e.options.prefix+"-hdr h2 {text-transform: uppercase; font-size: 11px; padding: 0; margin: 0;}</style>");o.append('<div id="'+e.options.prefix+'-hdr"><div class="close-btn"><a href="#" onclick="return bby.ui.lightbox.close()">close</a> <a href="#" onclick="return bby.ui.lightbox.close()"><img src="'+imgServer+'en_US/images/global/pcontent/ssi/button_close.gif"/></a></div><h2>'+e.options.title+"</h2></div>")}o.append('<div id="'+e.options.prefix+'-main"></div>');if(typeof n!=="undefined"){if(typeof n==="string"){$("#"+e.options.prefix+"-main").append(n)}else if(typeof n==="object"){n.children().appendTo("#"+e.options.prefix+"-main")}}}e.runCallbacks("create")},show:function(t){if(e.runCallbacks("beforeShow")==false){bby.logError("beforeShow: cancelled by callback");return false}if(e.prefixes[e.options.prefix]==2){e.close()}e.setOptions(t);bby.logError("show: "+e.options.prefix);if(e.options.autoPosition){var n=$("#"+e.options.prefix+"-box");var r=bby.page.layout.getPageSize();var i=bby.page.layout.getPageScroll();var s=i.y+r.window.height/10;n.css({position:"relative",top:s})}if($.browser.msie&&$.browser.version=="6.0"){$("select:visible").hide().addClass("lb-select-hidden")}e.prefixes[e.options.prefix]=2;$("#"+e.options.prefix+"-wrapper").show();e.runCallbacks("show")},close:function(){bby.logError("close: "+e.options.prefix);var t=$("#"+e.options.prefix+"-wrapper");if(e.runCallbacks("beforeClose",t)==false){bby.logError("beforeClose: cancelled by callback");return}if(e.options.reuseWindow){e.prefixes[e.options.prefix]=1;t.hide()}else{e.prefixes[e.options.prefix]=0;t.remove()}if($.browser.msie&&$.browser.version=="6.0"){$("select.lb-select-hidden").show().removeClass("lb-select-hidden")}e.runCallbacks("close",t);return false},runCallbacks:function(t,n){for(var r=0;r<e.callbacks.length;r++){if(e.callbacks[r].evt.toString().toLowerCase()==t.toString().toLowerCase()){if(e.callbacks[r].callback(n)==false){return false}}}},on:function(t,n){if(typeof n=="function"){e.callbacks.push({evt:t,callback:n})}else if(typeof n=="undefined"){var r=-1;for(var i=0;i<e.callbacks.length;i++){if(e.callbacks[i].evt.toString().toLowerCase()==t.toString().toLowerCase()){r=i}}if(r>-1){e.callbacks.splice(r,1)}}}};bby.initNS("bby.ui.lightbox",e)});